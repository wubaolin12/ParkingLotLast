<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" 
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">


<mapper namespace="org.great.mapper.CountrulesMapper">

	<select id="findCountrulRoleX" parameterType="Map"
		resultType="org.great.bean.Countrules">
		select * from tb_countrules where cr_starttime  &lt; #{time}
		and cr_overtime &gt;=#{time} and pm_id = (select pm_id from
		tb_param where
		pm_type = #{pmtype} and pm_name = #{pmname} )
	</select>
	<select id="findCountrulRoleEqualsX" parameterType="Map"
		resultType="org.great.bean.Countrules">
		select * from tb_countrules where cr_starttime =
		cr_overtime and pm_id = (select pm_id from
		tb_param where pm_type =
		#{pmtype} and pm_name = #{pmname} )
	</select>

</mapper>